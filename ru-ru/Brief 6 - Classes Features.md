# Классы: Специфика TypeScript

Этот брифинг посвящен специфическим требованиям TypeScript при работе с классами. В основном это связано с ограничениями налагаемыми JavaScript. Можно пропустить этот брифинг и следовать дальнейшему изучению языка, а к данному материалу вернуться позже или по мере возникающих вопросов.

## Инициализация полей класса

TypeScript не анализирует методы вызываемые из конструктора, на предмет инициализации свойств. Это связано с тем, что сам конструктор может быть переопределен в производном классе. Если возникает необходимость инициализации полей, используя другие методы или внешние функции вызываемые из конструктор (например, внешние библиотеки), следует использовать техники обхода проверки инициализации.

```ts
class OutInit {
  a!: number; // (a!) или (a: number | undefined)
  // обходим проверку инициализации
  // иначе компилятор выдаст ошибку

  constructor(set: number) {
    this.initA(set);
  }

  initA(a: number) {
    this.a = a;
  }
}
```

## Вызовы Super

Специфика обращения к родительскому классу из производного подчиняется [правилам](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super/) определенным для JavaScript. Например, чтобы использовать члены родительского класса из конструктора производного, необходимо сначала сделать вызов его конструктора

```ts
// В родительском классе конструктора нет
class Base {
  a = 4;
}
 
class Derived extends Base {
  constructor() {
    // Сначала делаем вызов базового конструктора без параметров
    super();
    // и только затем используем поле из базового класса
    console.log(this.a);
  }
}
```

Если не следовать этому правилу - компилятор выдаст предупреждение, а скомпилированный код будет некорректным.
